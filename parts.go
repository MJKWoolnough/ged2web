package main

// File automatically generated with ./embed.sh

const (
	htmlStart = "<html lang=\"en\"><head><title>Ged2Web</title><meta charset=\"UTF-8\" /><script type=\"module\">"
	htmlEnd   = "</script><style type=\"text/css\">#indexes a:not(:first-child){padding-left:.5em}#indexes a:not(:last-child){border-right:1px solid #000;padding-right:.5em}.pagination .prev{padding-right:1em}.pagination .next{padding-left:1em}.results{list-style:none;margin:20px 0;padding:0;overflow:hidden;clear:left}.results>li{padding-bottom:10px;border-bottom:1px dashed #000;margin-bottom:10px;overflow:hidden}.results>li>div:first-child{float:left;width:200px}.results>li>div:last-child{overflow:hidden}.results>li>div:last-child>div{display:inline;margin-right:20px;overflow:hidden}#relationship{border-collapse:separate;border-spacing:5px 0;margin-left:auto;margin-right:auto}#relationship ul{list-style:none;margin:0;padding:0}#relationship td:first-child{background-color:rgba(0,255,0,0.5);text-align:right}#relationship td:last-child{background-color:rgba(255,0,0,0.5);text-align:left}#relationship tr:last-child td{background-color:rgba(255,255,0,0.5);text-align:center}#relationship td{vertical-align:bottom;padding:0 20px;width:50%}#ged2web_title{text-align:center}.person{position:absolute;width:150px;left:50px;border:1px solid #000;text-align:center;word-wrap:break-word}.highlight{border-color:#080}.sex_U{background-color:#aaa}.sex_M{background-color:#aaf}.sex_F{background-color:#faa}.spouseLine{position:absolute;border-top:5px solid #000;border-bottom:5px solid #000;height:5px;width:200px;left:50px;z-index:-1}.downLeft{position:absolute;margin-top:10px;height:100px;width:100px;border-right:5px solid #000;border-bottom:5px solid #000}.downRight{position:absolute;margin-top:10px;height:100px;width:100px;border-left:5px solid #000;border-bottom:5px solid #000}.chosen{border-color:#f00 !important}.dob,.dod{font-size:.5em}.collapse,.expand{width:7px;height:7px;border-width:0 1px 1px 0;border-color:#000;border-style:solid;float:left;background-color:#fff;cursor:pointer;cursor:hand}.collapse{background-color:#000}</style></head><body></body></html>"
	modStart  = "export const people = ["
	modMid    = "], families = ["
	modEnd    = "]"
	jsStart   = "const e=(t,s=[])=>{if(t instanceof h){const e=new Text(t+\"\");t[r](e),s.push(e)}else if(\"string\"==typeof t)s.push(t);else if(Array.isArray(t))for(const n of t)e(n,s);else if(t instanceof Node)s.push(t);else if(t instanceof NodeList||t instanceof HTMLCollection)for(const e of Array.from(t))s.push(e);return s},t=e=>e instanceof Object&&e.handleEvent instanceof Function,s=e=>e instanceof Function||t(e)&&!(e instanceof f)||e instanceof f&&s(e.value),n=e=>s(e)||e instanceof Array&&3===e.length&&s(e[0])&&e[1]instanceof Object&&\"boolean\"==typeof e[2],o=e=>e instanceof Object,i=e=>e instanceof CSSStyleDeclaration||e instanceof Object,l=e=>\"string\"==typeof e||e instanceof Array||e instanceof NodeList||e instanceof HTMLCollection||e instanceof Node||e instanceof h,r=Symbol(\"setNode\"),c=Symbol(\"update\"),a=Symbol(\"remove\");class h{#e=new Set;[r](e){this.#e.add(new WeakRef(e))}[c](){const e=this+\"\";for(const t of this.#e){const s=t.deref();s?s instanceof h?s[c]():s.textContent=e:this.#e.delete(t)}}[a](e){for(const t of this.#e){const s=t.deref();s&&s!==e||this.#e.delete(t)}}}class f extends h{#t;constructor(e){super(),this.#t=e,e instanceof h&&e[r](this)}get value(){return this.#t instanceof f?this.#t.value:this.#t}set value(e){this.#t!==e&&(this.#t instanceof h&&this.#t[a](this),this.#t=e,e instanceof h&&e[r](this)),this[c]()}handleEvent(e){const s=this.value;s instanceof Function?s.call(e.currentTarget,e):t(s)&&s.handleEvent(e)}toString(){return this.value.toString()}}class d{container=N();chosen;highlight;expanded;rows=[];constructor(e,t){this.chosen=e,this.highlight=new Set(t),this.expanded=new Set(t),this.draw()}draw(e=0,t=0){let s=this.chosen,n=0,o=0;for(;;){const e=D[s][5],[t,n]=U[e];if(this.expanded.has(t))s=t;else{if(!this.expanded.has(n)){if(e)new u(this,t,0,!0);else{const e=new u(this,0,0);e.spouses=[new g(this,e,[0,0,s],0)]}break}s=n}}const i=$();for(const t of this.rows){for(const s of t){const t=re+n*ae,l=ce+s.col*de;e&&s.id===e&&(o=l),s instanceof u?(n>0&&v(i,N({class:\"downLeft\",style:{top:t-50+\"px\",left:`${l+he/2}px`,width:0,height:\"50px\"}})),s.spouses.length>0&&v(i,N({class:\"spouseLine\",style:{top:`${t}px`,left:`${l}px`,width:(s.spouses[s.spouses.length-1].col-s.col)*de+\"px\"}}))):s instanceof g&&s.children.length>0&&(v(i,N(s.col<=s.children[0].col?{class:\"downRight\",style:{top:`${t}px`,left:l-fe/2+\"px\"}}:{class:\"downLeft\",style:{top:`${t}px`,left:l-he+fe/2+\"px\",width:he-fe+\"px\"}})),s.children.length>1&&v(i,N({class:\"downLeft\",style:{top:t+ae-50+\"px\",left:`${ce+s.children[0].col*de+he/2}px`,width:(s.children[s.children.length-1].col-s.children[0].col)*de+\"px\",height:0}})));const r=s.id,[,,c,a,h,,...f]=D[s.id],d=s instanceof g;v(i,N({class:{person:!0,[pe[h]]:!0,highlight:this.highlight.has(r),chosen:this.chosen===s.id},style:{top:`${re+n*ae}px`,left:`${ce+s.col*de}px`}},[s.id>0&&s.id!==this.chosen&&(s instanceof u&&f.length>0||d)?N({class:!this.expanded.has(s.id)||d?\"expand\":\"collapse\",onclick:this.expand.bind(this,s.id,d)}):[],N({class:\"name\"},H(s.id)),c?N({class:\"dob\"},c):[],a?N({class:\"dod\"},a):[]]))}n++}b(this.container,i),e&&window.scroll({left:o+t})}addPerson(e,t){const s=this.rows[e],n=s?.[s?.length-1];return s?(s.push(n.next=t),n.col+1):(this.rows.push([t]),0)}expand(e,t,s){t?this.chosen=e:this.expanded.has(e)?this.expanded.delete(e):this.expanded.add(e),this.rows=[],this.draw(e,window.scrollX-s.target.offsetParent.offsetLeft)}}class p{id;col;next;constructor(e,t,s){this.id=t,this.col=e.addPerson(s,this)}}class u extends p{spouses=[];constructor(e,t,s,n=!1){if(super(e,t,s),e.expanded.has(t)||e.chosen===t||n){const[,,,,,,...n]=D[t];if(n.length>0){for(const t of n)this.spouses.push(new g(e,this,U[t],s));this.col=this.spouses[0].col-1}}}shift(e){this.col+=e,this.next&&this.next.col<=this.col&&this.next.shift(this.col-this.next.col+1)}}class g extends p{children=[];constructor(e,t,s,n){super(e,s[0]===t.id?s[1]:s[0],n);const[,,...o]=s,i=n+1;if(o.length>0){for(const t of o)this.children.push(new u(e,t,i));for(let e=this.children.length-1;e>=0;e--){const t=this.children[e];t.col<this.col-1&&t.next&&(t.col=t.next.col-1)}this.col<this.children[0].col&&(this.col=this.children[0].col),this.shift(0)}}shift(e){if(this.col+=e,0!==this.children.length)for(;this.children[this.children.length-1].col<this.col-1;)this.children[0].shift(this.col-this.children[this.children.length-1].col-1);this.next&&this.next.col<=this.col&&this.next.shift(this.col-this.next.col+1)}}let m,w,x=0,y=\"\";const v=(t,s,c)=>{if(s&&l(s))c=s;else if(s instanceof NamedNodeMap&&t instanceof Element)for(const e of s)t.setAttributeNode(e.cloneNode());else if(t&&\"object\"==typeof s){const e=!!((a=t).style&&a.classList&&a.getAttributeNode&&a.removeAttribute&&a.setAttribute&&a.toggleAttribute);for(const l in s){const c=s[l];if(n(c)&&l.startsWith(\"on\")){const e=c instanceof Array;t[e&&c[2]?\"removeEventListener\":\"addEventListener\"](l.slice(2),e?c[0]:c,!!e&&c[1])}else if(e)if(\"boolean\"==typeof c)t.toggleAttribute(l,c);else if(void 0===c)t.removeAttribute(l);else if(c instanceof Array||c instanceof DOMTokenList){if(\"class\"===l&&c.length)for(let e of c){const s=e.slice(0,1),n=\"!\"!==s&&(\"~\"!==s||void 0);t.classList.toggle(n?e:e.slice(1),n)}}else if(\"class\"===l&&o(c))for(const e in c)t.classList.toggle(e,c[e]??void 0);else if(\"style\"===l&&i(c))for(const[e,s]of c instanceof CSSStyleDeclaration?Array.from(c,(e=>[e,c.getPropertyValue(e)])):Object.entries(c))void 0===s?t.style.removeProperty(e):t.style.setProperty(e,s.toString());else if(t.setAttribute(l,c),c instanceof h){const e=t.getAttributeNode(l);e&&c[r](e)}}}var a;return t instanceof Node&&(\"string\"!=typeof c||t.firstChild?c&&(t instanceof Element||t instanceof DocumentFragment?t.append(...e(c)):t.appendChild($(c))):t.textContent=c),t},$=t=>{const s=document.createDocumentFragment();return\"string\"==typeof t?s.textContent=t:void 0!==t&&s.append(...e(t)),s},b=(t,s,n)=>{if(!t)return t;if(s&&l(s)&&(s=void(n=s)),\"string\"==typeof n)n=void(t.textContent=n);else if(n&&t instanceof Element)n=void t.replaceChildren(...e(n));else for(;null!==t.lastChild;)t.lastChild.remove();return v(t,s,n)},[S,C,A,N,L,k,j,P,G,E,M,O,T,_,I,F]=\"a button datalist div h2 h3 input label li option span table tbody td tr ul\".split(\" \").map((e=>{return t=e,Object.defineProperty(((e,s)=>v(document.createElementNS(\"http://www.w3.org/1999/xhtml\",t),e,s)),\"name\",{value:t});var t})),R=\"complete\"===document.readyState?Promise.resolve():new Promise((e=>window.addEventListener(\"load\",e,{once:!0}))),D=["
	jsMid     = "],U=["
	jsEnd     = "],H=e=>`${D[e][0]??\"?\"} ${D[e][1]??\"?\"}`,q=Array.from({length:26},(()=>[])),B=(new Intl.Collator).compare,W=(e,t)=>{const[s=\"\",n=\"\"]=D[e],[o=\"\",i=\"\"]=D[t];return n!==i?B(n,i):s!==o?B(s,o):t-e},V=(e,t)=>0===e?[]:N([v(ge(\"tree\",{id:e}),H(e)),\" (\"+te[t][D[e][4]]+\")\"]),X=(e,t,s,n,o)=>{0!==e.length&&e.push(\"â€¦\");for(let i=s;i<=n;i++)i!==s&&e.push(\", \"),e.push(t===i?M(i+1+\"\"):v(ge(\"list\",Object.assign({p:i},o)),{class:\"pagination_link\"},i+1+\"\"))},z=(e,t,s=0)=>{const n=Math.ceil(e.length/20)-1,o=[];if(0===n)return[];s>n&&(s=n);let i=0;for(let e=0;e<=n;e++)e<3||e>n-3||(3>s||e>=s-3)&&e<=s+3||s-3-1==3&&3==e||s+3+1==n-3&&e==n-3||(e!=i&&X(o,s,i,e-1,t),i=e+1);return i<n&&X(o,s,i,n,t),N({class:\"pagination\"},[\"Pages: \",v(0!==s?ge(\"list\",Object.assign({p:s-1},t)):M(),{class:\"pagination_link prev\"},\"Previous\"),o,v(s!==n?ge(\"list\",Object.assign({p:s+1},t)):M(),{class:\"pagination_link next\"},\"Next\")])},J=(e,t,s,n=0)=>{const o=Math.min(20*(n+1),t.length),i=F({class:\"results\"}),l=[];for(let e=20*n;e<o;e++){const s=t[e],[,,,,,n,...o]=D[s],[r,c,...a]=U[n],h=o.map((e=>U[e])),f=C({onclick:()=>{if(x===s){x=0;for(const e of l)b(e,\"+\")}else if(0===x){x=s;for(const e of l)b(e,\"=\");b(f,\"-\")}else ue(\"fhcalc\",{from:x,to:s})}},0===x?\"+\":x===s?\"-\":\"=\");l.push(f),v(i,G([N([v(ge(\"tree\",{id:s}),H(s)),f]),N([V(r,0),V(c,0),a.filter((e=>e!==s)).map((e=>V(e,1))),h.map((([e,t,...n])=>[V(e!==s?e:t,2),n.filter((e=>e!==s)).map((e=>V(e,3)))]))])]))}v(e,[z(t,s,n),i,z(t,s,n)])},K=new Map,Q=()=>ue(\"list\",{q:Y.value}),Y=j({type:\"text\",list:\"treeNames\",onkeypress:e=>\"Enter\"===e.key&&Q()}),Z=A({id:\"treeNames\"}),ee=({l:e,q:t,g_p:s=0})=>{const n=N(),o=Math.max(0,\"string\"==typeof s?parseInt(s)||0:s);if(me(\"List\"),\"string\"==typeof t){Y.value=t,me(\"Search\");const e=Y.value.toUpperCase().split(\" \").sort(),s=e.join(\" \");let i=[];if(K.has(s))i=K.get(s);else{for(let t=0;t<D.length;t++){const s=`${D[t][0]||\"\"} ${D[t][1]||\"\"}`.toUpperCase();e.every((e=>s.includes(e)))&&i.push(t)}K.set(s,i)}J(n,i.sort(W),{q:t},o)}else if(\"string\"==typeof e){const t=e.toUpperCase().charCodeAt(0);t>=65&&t<=90&&(me(`List - ${e}`),J(n,q[t-65],{l:e},o))}return[m||(m=N({id:\"ged2web_title\"},[L(\"Select a Name\"),N({id:\"indexes\"},q.map(((e,t)=>v(ge(\"list\",{l:String.fromCharCode(t+65)}),String.fromCharCode(t+65))))),N({id:\"index_search\"},[Z,P({for:\"index_search\"},\"Search Terms: \"),Y,C({onclick:Q},\"Search\")])])),n]},te=[[\"Parent\",\"Father\",\"Mother\"],[\"Sibling\",\"Brother\",\"Sister\"],[\"Spouse\",\"Husband\",\"Wife\"],[\"Child\",\"Son\",\"Daughter\"],[\"Pibling\",\"Uncle\",\"Aunt\"],[\"Nibling\",\"Nephew\",\"Niece\"]],se=(e,t)=>{const s=[];for(;t>0;)s.push(t),t=e.get(t)[0];return s.reverse()},ne={one:\"st\",two:\"nd\",few:\"rd\",other:\"th\"},oe=[\"Once\",\"Twice\",\"Thrice\"],ie=new Intl.PluralRules(\"en-GB\",{type:\"ordinal\"}),le=(e,t,s)=>{const n=e.length,o=t.length,i=n>0&&o>0&&D[e[n-1]][5]!=D[t[o-1]][5]?\"Half-\":\"\";switch(n){case 0:switch(o){case 0:return\"Clone\";case 1:return te[0][s];default:const e=o-2;return e>3?`${e} x Great-Grand-`:\"Great-\".repeat(e)+`Grand-${te[0][s]}`}case 1:switch(o){case 0:return te[3][D[e[0]][4]];case 1:return`${i}${te[1][D[e[0]][4]]}`;default:const t=o-2;return`${i}${t>3?`${t} x Great-Grand-`:\"Great-\".repeat(t)}${te[4][D[e[0]][4]]}`}break;default:const t=n-2;switch(o){case 0:return(t>3?`${t} x Great-Grand-`:\"Great-\".repeat(t)+\"Grand-\")+te[3][D[e[0]][4]];case 1:return`${i}${t>3?`${t} x Great-`:\"Great-\".repeat(t)}${te[5][D[e[0]][4]]}`;default:const s=Math.min(n,o)-1,l=Math.abs(n-o);return`${i}${s}${ne[ie.select(s)]} ${i}Cousin${l>0?`, ${oe[l-1]||`${l} Times`} Removed`:\"\"}`}}},re=100,ce=50,ae=150,he=150,fe=50,de=he+fe,pe=[\"U\",\"M\",\"F\"].map((e=>`sex_${e}`)),ue=(e,t,s=!1)=>{let n,o=\"list\";switch(e){case\"tree\":n=(({id:e,highlight:t})=>{const s=\"string\"==typeof e?parseInt(e):e;if(!(s<=0||void 0===D[s]))return me(`Family Tree - ${H(s)}`),new d(s,(t||\"\").split(\".\").map((e=>parseInt(e))).filter((e=>e>0))).container})(t),o=e;break;case\"fhcalc\":n=(({from:e,to:t})=>{const s=\"string\"==typeof e?parseInt(e):e,n=\"string\"==typeof t?parseInt(t):t;if(s<=0||n<=0||!D[s]||!D[n])return;me(\"Relationship Calculator\");const[o,i,l]=((e,t)=>{const s=new Map([[e,[0,0]],[t,[0,0]]]),n=[[e,1],[t,2]];for(;n.length>0;){const e=n.shift(),[t,o]=e,i=D[t][5];for(const l of U[i].slice(0,2))if(l){const i=s.get(l);if(i){if(i[1]!==o)return[l,se(s,1===o?t:i[0]),se(s,1===o?i[0]:t)]}else s.set(l,e),n.push([l,o])}}return[0,[],[]]})(s,n),r=H(s),c=H(n);return 0===o?L(`No direct relationship between ${r} and ${c}`):[N({id:\"ged2web_title\"},[L(`${r} is the ${le(i,l,D[o][4])} of ${c}`),C({onclick:()=>ue(\"fhcalc\",{from:n,to:s})},\"Swap\")]),O({id:\"relationship\"},T([I([r,c].map((e=>_(k(`Route from ${e}`))))),I([i,l].map((e=>_(F(e.map((e=>G(`${H(e)}, who is the ${te[3][D[e][4]]} ofâ€¦`)))))))),I(_({colspan:2},[N(H(o)),k(\"Common Ancestor\"),v(ge(\"tree\",{id:o,highlight:i.concat(l).join(\".\")}),\"Show in Tree\")]))]))]})(t),o=e;break;case\"list\":n=ee(t)}s||history.pushState(null,\"\",ye(e,t)),v(document.body,{class:{[y]:!1,[y=\"ged2web_\"+o]:!0}}),b(w,n||ee({}))},ge=(e,t)=>S({href:ye(e,t),onclick:s=>{s.preventDefault(),ue(e,t)}}),me=e=>document.title=`${$e} - ${e}`,we=()=>window.location.pathname.split(\"/\").pop()?.split(\".\").shift(),xe=[\"list\",\"fhcalc\",\"tree\"].includes(we()),ye=(e,t)=>(xe?`${e}.html?`:`?module=${e}&`)+Object.entries(t).map((([e,t])=>`${e}=${encodeURIComponent(t)}`)).join(\"&\"),ve=()=>{const e=Object.fromEntries(new URL(window.location+\"\").searchParams.entries());ue(xe?we():e.module,e,!0)},$e=document.title;for(let e=0;e<D.length;e++){let t=(D[e][1]??\"\").charCodeAt(0);t>=97&&(t-=32),t>=65&&t<=90&&q[t-65].push(e)}for(const e of q){e.sort(W);for(const t of e){const[e,s]=D[t];e&&s&&v(Z,E({value:`${e} ${s}`}))}}v(window,{onpopstate:ve}),R.then((()=>{w=document.getElementById(\"ged2web\")||document.body,ve()}));"
)
